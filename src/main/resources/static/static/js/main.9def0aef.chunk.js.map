{"version":3,"sources":["components/submitBooklet/submitBooklet.js","components/editableBook/editableBook.js","components/book/book.js","components/bookList/bookList.js","App.js","reportWebVitals.js","index.js"],"names":["SubmitBooklet","props","authorChange","event","setState","author","target","value","titleChange","title","bookContentChange","bookContent","setFormWanings","formWarnings","submit","state","book","paragraphs","split","console","log","submitBook","setPage","validAuthor","validTitle","validBookContent","this","className","placeholder","onChange","e","maxLength","onClick","Component","EditableBook","componentDidMount","convertParagraphsToContent","edit","editBook","id","forEach","paragraph","i","length","deleteBook","Book","setEditable","setView","isAdmin","editable","getViewClass","bookComponent","map","BookList","books","App","baseApiUrl","getBooks","increasePageNumber","setIsAdmin","window","addEventListener","handleScroll","componentWillUnmount","removeEventListener","a","hasMoreBooks","axios","get","pageNumber","then","data","allIds","b","filteredBooks","filter","includes","setBooks","setHasMoreBooks","catch","post","patch","delete","Math","ceil","scrollY","innerHeight","document","body","offsetHeight","activePage","resetPageNumber","sanitizeList","bookList","adminName","process","toLowerCase","location","href","pop","views","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9def0aef.chunk.js","sourcesContent":["import { Component } from 'react';\nimport './submitBooklet.css';\n\nclass SubmitBooklet extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      author: '',\n      title: '',\n      bookContent: '',\n      formWarnings: {\n        validAuthor: true,\n        validTitle: true,\n        validBookContent: true\n      }\n    }\n  }\n\n  authorChange = event => this.setState({ author: event.target.value });\n  titleChange = event => this.setState({ title: event.target.value });\n  bookContentChange = event => this.setState({ bookContent: event.target?.value });\n  setFormWanings = formWarnings => this.setState({ formWarnings });\n  submit = () => {\n    const { author, title, bookContent } =  this.state\n    const validBook = author !== '' && title !== '' && bookContent !== '';\n    // Note: criterea for validity is very basic. Nathan should define criterea and behavior for errors\n    if(validBook) {\n      const book = { \n        author,\n        title,\n        paragraphs: bookContent.split('\\n')\n      }\n      console.log(book);\n      this.props.submitBook(book);\n      this.props.setPage('BOOKS');\n    } else {\n      const formWarnings = {\n        validAuthor: author !== '',\n        validTitle: title !== '',\n        validBookContent: bookContent !== ''\n      }\n      this.setFormWanings(formWarnings);\n    }\n  }\n\n  render() {\n    const { formWarnings, author, title, bookContent } = this.state;\n    return (\n      <div className=\"submit-booklet\">\n        <p className=\"book-list-header\">Add the beginning of a book</p> \n        <input \n          className={`author-name ${formWarnings.validAuthor ? '': 'has-error'}`}\n          placeholder=\"Author\" \n          value={author} \n          onChange={(e) => this.authorChange(e)}\n        />\n        <input \n          className={`book-title ${formWarnings.validTitle ? '': 'has-error'}`} \n          placeholder=\"Book Title\" \n          value={title} \n          onChange={(e) => this.titleChange(e)}\n        />\n        <textarea \n          className={`book-content ${formWarnings.validBookContent ? '': 'has-error'}`}\n          maxLength=\"1000\" \n          placeholder=\"First 1000 characters\" \n          value={bookContent} \n          onChange={(e) => this.bookContentChange(e)} \n        />\n        <button \n          className=\"submit-book\" \n          onClick={() => this.submit()}\n        >\n          Submit\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default SubmitBooklet;","import { Component } from 'react';\nimport './editableBook.css';\n\nclass EditableBook extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      id: props.book.id,\n      author: props.book.author,\n      title: props.book.title,\n      paragraphs: props.book.paragraphs,\n      bookContent: '',\n    }\n  }\n\n  componentDidMount = () => {\n    this.convertParagraphsToContent();\n  }\n\n  authorChange = event => this.setState({ author: event.target.value });\n  titleChange = event => this.setState({ title: event.target.value });\n  bookContentChange = event => this.setState({ bookContent: event.target?.value });\n  edit = () => {\n    const book = {\n      author: this.state.author,\n      title: this.state.title,\n      paragraphs: this.state.bookContent.split('\\n')\n    }   \n    this.props.editBook(book, this.state.id);\n  }\n\n  convertParagraphsToContent = () => {\n    let bookContent = '';\n    this.state.paragraphs.forEach((paragraph, i) => {\n      bookContent += paragraph;\n      if(i < this.state.paragraphs.length - 1) {\n        bookContent += '\\n';\n      }\n    });\n    this.setState({ bookContent });\n  }\n\n  render() {\n    return (\n      <div className=\"editable-book\">\n        <input \n          className=\"author-name\" \n          placeholder=\"Author\" \n          value={this.state.author} \n          onChange={(e) => this.authorChange(e)}\n        />\n        <input \n          className=\"book-name\" \n          placeholder=\"Title\" \n          value={this.state.title} \n          onChange={(e) => this.titleChange(e)}\n        />\n        <textarea \n          className=\"editable-book-content\" \n          maxLength=\"1000\" \n          placeholder=\"First 1000 characters\" \n          value={this.state.bookContent} \n          onChange={(e) => this.bookContentChange(e)} \n        />\n        <div className=\"button-wrapper\">\n          <button onClick={() => this.edit()}>\n            Edit\n          </button>\n          <button onClick={() => this.props.deleteBook(this.state.id)}>\n            Delete\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default EditableBook;","import { Component } from 'react';\nimport EditableBook from '../editableBook/editableBook';\nimport './book.css';\n\nclass Book extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      editable: false,\n    }\n  }\n\n  editBook = (book, id) => {\n    this.props.editBook(book, id);\n    this.setEditable(false);\n  }\n\n  deleteBook = id => {\n    this.props.deleteBook(id);\n    this.setEditable(false);\n  }\n\n  setView = () => this.setEditable(this.props.isAdmin);\n  setEditable = editable => this.setState({ editable });\n  getViewClass = () => this.props.isAdmin ? 'editable book' : 'book';\n\n  render() {\n    const { book } = this.props\n    const bookComponent = (\n      <div className={this.getViewClass()} onClick={this.setView}>\n        <div className=\"paragraph-wrapper\" >\n          { book.paragraphs?.map((paragraph, i) => <p className=\"paragraph\" key={`${book.id}-${i}`}>{paragraph}</p>) }\n        </div>\n        <div className=\"author-title\">\n          <span className=\"author-label\">{`${book.author}, `}</span>\n          <span className=\"title-label\">{book.title}</span>\n        </div>\n        <div className=\"book-border\" />\n      </div>\n    )\n    \n    return (\n      <div className=\"book-view\">\n        { this.state.editable ? <EditableBook book={book} editBook={this.editBook} deleteBook={this.deleteBook}/> : bookComponent }\n      </div>\n    );\n  }\n}\n\nexport default Book;","import Book from '../book/book';\nimport './bookList.css';\n\nfunction BookList(props) {\n  const { setPage, books, isAdmin, deleteBook, editBook } = props;\n  return (\n    <div className=\"book-list-wrapper\">\n      <div className=\"book-list-header\" onClick={() => setPage('SUBMIT')}>\n        Add the beginning of a book\n      </div>\n        { \n          books?.map(book => <Book book={book} key={book.id} isAdmin={isAdmin} deleteBook={deleteBook} editBook={editBook}/>) \n        }\n    </div>\n  );\n}\n\nexport default BookList;","import { Component } from 'react';\nimport axios from 'axios';\nimport SubmitBooklet from \"./components/submitBooklet/submitBooklet\";\nimport BookList from \"./components/bookList/bookList\";\nimport './App.css';\n\nclass App extends Component {\n  constructor(props) {\n    super(props)        \n    this.state = {\n      activePage: 'BOOKS',\n      books: [],\n      isAdmin: false,\n      hasMoreBooks: true,\n      pageNumber: 0\n    }\n  }\n\n  baseApiUrl = \"/api\";\n\n  componentDidMount = () => {\n    this.getBooks();\n    this.increasePageNumber();\n    this.setIsAdmin();\n    window.addEventListener(\"scroll\", this.handleScroll);\n  }\n\n  componentWillUnmount = () => window.removeEventListener(\"scroll\", this.handleScroll);\n\n  getBooks = async () => {\n    if(this.state.hasMoreBooks) {\n      await axios.get(`${this.baseApiUrl}/${this.state.pageNumber}`)\n      .then(({ data }) => {\n        const allIds = this.state.books.map(b => b.id);\n        const filteredBooks = data.books.filter(b => !(allIds.includes(b.id)))\n        this.setBooks([...this.state.books, ...filteredBooks]);\n        this.setHasMoreBooks(data.hasMoreBooks);\n      })\n      .catch(e => console.log('ERROR RETRIEVING BOOKS', this.state.pageNumber))\n    }\n  }\n\n  submitBook = async (book) => axios.post(this.baseApiUrl, { ...book })\n    .then(({ data }) => this.setBooks([...this.state.books, data]))\n    .catch(e => console.log('ERROR SUMBITTING BOOK'))\n\n  editBook = async (book, id) => axios.patch(`${this.baseApiUrl}/${id}`, { ...book })\n    .then(({ data }) => this.setBooks([...this.state.books?.map(b => b.id === data.id ? data : b)]))\n    .catch(e => console.log('ERROR EDITING BOOK'))\n\n  deleteBook = async (id) => axios.delete(`${this.baseApiUrl}/${id}`, { id })\n    .then(() => this.setBooks(this.state.books.filter(book => book.id !== id)))\n    .catch(e => console.log('ERROR DELETING BOOK'))\n\n  handleScroll = () =>  {\n    const scrolledToBottom = Math.ceil(window.scrollY + window.innerHeight + 2) >= document.body.offsetHeight;\n    if( scrolledToBottom && this.state.hasMoreBooks) {\n      this.getBooks();\n      this.increasePageNumber();\n    }\n  }\n\n  setBooks = books => this.setState({ books });\n  setPage = activePage => this.setState({ activePage });\n  setHasMoreBooks = hasMoreBooks => this.setState({ hasMoreBooks });\n  increasePageNumber = () => this.setState({ pageNumber: this.state.pageNumber + 1 });\n  resetPageNumber = () => this.setState({ pageNumber: 0 });\n  sanitizeList = bookList => bookList?.filter(book => book.author && book.title && book.paragraphs);\n  setIsAdmin = () => {\n    const adminName = process.env.REACT_APP_ADMIN_NAME.toLowerCase()\n    const isAdmin = window.location.href.split('/')?.pop().toLowerCase() === adminName \n      || window.location.href.split('=')?.pop().toLowerCase() === adminName;\n    this.setState({ isAdmin });\n  }\n\n  render() { \n    const views = {\n      'SUBMIT': <SubmitBooklet submitBook={this.submitBook} setPage={this.setPage} /> ,\n      'BOOKS': <BookList\n          isAdmin={this.state.isAdmin} \n          books={this.sanitizeList(this.state.books)} \n          setPage={this.setPage}\n          deleteBook={this.deleteBook}\n          editBook={this.editBook}\n        />\n    }\n\n    return (\n      <div className=\"App\">\n        { views[this.state.activePage] }\n      </div>\n    )\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}